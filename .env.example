# ================================
# Server Config
# ================================

# Port for the Express API server
PORT=3000

# ================================
# Proxy / Upstream Config
# ================================

# Proxy providers (Zyte or others), comma-separated
# Format: http://user:pass@host:port
# Example:
# PROXIES=http://zyte_user:zyte_pass@proxy.zyte.com:8011,http://zyte_user2:zyte_pass2@proxy.zyte.com:8011
PROXIES=

# Maximum concurrency to upstream (default: 10)
CONC_UPSTREAM=10

# Upstream request timeout in milliseconds
UPSTREAM_TIMEOUT_MS=5000

# Retry count for upstream requests (default: 2)
UPSTREAM_MAX_RETRIES=2

# ================================
# Naver Headers / Cookie
# ================================

# Notes:
# - If NAVER_COOKIE is empty, the scraper will read from session.cookie (created by cookie-harvester)
# - If set manually, paste the full Cookie header string (one line, without the "Cookie:" prefix)
# Example: nstore_session=xxxx; sus_val=yyyy; ...
NAVER_COOKIE=nstore_session=/Vj4pNB82CQt3UxHZgXVBwd6C; X-Wtm-Cpt-Tk=D-rPK7DT5dizLiSlnemwlYMcH4qGl7BxPaOQlT_r-4JR1oyPwDCXhJY8uBK3hJauqBsPEhXW8yDarE3bfQ3vX5bcThikXZesPzSjASVO5N7IxoirqSqnxS_4PFxuMEktgP6fq96Yu0E2SHQhoNOb8t6WXNSO7CzK6YGPCs1L7vD8qWj-kH-JvNuRKZE1Epvr3ggX-FLWnPzhAgvGRJhSsb8psjpFcW3WCtyY5RIAtbuOT-w3gwF3wxk4pcAzVmQNfDvc_UzBH5RpzuTrTx6VcsCBq0dA4Pi0OXAnvGzfbq0qzvTyLvqXd3KWxWFDS4EROb1C29XK_20AI9gBe8toBo5_ripRVOvXSfM=; nstore_pagesession=jKkE/wqrLYnmxwsdW+d-229541; RELATED_PRODUCT=ON; SENTRY_REPORTING=2

# Browser User-Agent string (copy from your browser DevTools)
NAVER_USER_AGENT=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36

# Referer URL to make requests look legitimate
NAVER_REFERER=https://search.shopping.naver.com/ns/search?query=iphone

# ================================
# Harvester Config
# ================================

# Run browser in headless mode while harvesting cookies
HEADLESS=true

# ================================
# Load Test Config
# ================================

# Base URL for load testing (local or deployed)
API_BASE_URL=http://localhost:3000

# Total number of requests during load test
TOTAL_REQUESTS=1000

# Number of concurrent requests during load test
CONCURRENCY=20

# Timeout for each request in milliseconds
TIMEOUT_MS=30000

# Warm-up requests before running the main load test
WARMUP_REQUESTS=50

# ================================
# Other Tunables
# ================================

# Upstream behaviour
CACHE_TTL_MS=70000
RETRY_BASE_MS=200

# Circuit breaker
CB_FAIL_THRESHOLD=10
CB_OPEN_MS=8000

# Random delay range (ms)
RAND_DELAY_MIN_MS=100
RAND_DELAY_MAX_MS=400
